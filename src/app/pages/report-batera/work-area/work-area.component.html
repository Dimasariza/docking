<nb-card>
    <nb-card-header class="d-flex justify-content-between">
        <div>
            <strong>{{data.dial}} Job </strong>
            <span *ngIf="data.dial !== 'Add Variant'" class="text-primary">: {{modelData?.head}}</span>
        </div>
        <button nbButton status="danger" size="tiny" (click)="close()">
            <nb-icon icon="close-outline" size="medium"></nb-icon>
        </button>   
    </nb-card-header>
    <nb-card-body>
    <form  (keyup.enter)="$event.target.value" #workAreaForm="ngForm" (ngSubmit)="workAreaBtn(workAreaForm)">
        <div class="row">
            <div class="col-4">
                <span class="p-2 d-block"><strong>Job Number</strong></span>
                <input type="text" nbInput fullWidth placeholder="Job Number" fieldSize="small" required #jobNumber name="jobNumber" [disabled]="disabledEdit" [ngModel]="modelData?.['Job No']">
                <div *ngIf="jobNumber.invalid && (jobNumber.dirty || jobNumber.touched)"
                class="danger text-danger">
                    <div *ngIf="jobNumber.errors?.['required']">
                    Job Number is required.
                    </div>
                </div>
                <span class="p-2 d-block"><strong>Job</strong></span>
                <input type="text" nbInput fullWidth placeholder="Job" fieldSize="small" required #job name="jobName" [disabled]="disabledEdit" [ngModel]="modelData?.Job">
                <span class="p-2 d-block">Start</span>
                <input [nbDatepicker]="startdatepicker" nbInput fullWidth fieldSize="small" placeholder="Start Date" name="start" #startDate [ngModel]="modelData?.Start">
                <nb-datepicker #startdatepicker></nb-datepicker>
                <span class="p-2 d-block">End</span>
                <input [nbDatepicker]="enddatepicker" nbInput fullWidth fieldSize="small" placeholder="End Date" name="end" #endDate [ngModel]="modelData?.Stop">
                <nb-datepicker #enddatepicker></nb-datepicker>
            </div>
            <div class="col-4">
                <span class="p-2 d-block">Volume</span>
                <input type="number" nbInput fullWidth placeholder="Volume" fieldSize="small" required [ngModel]="modelData?.Vol" name="volume" #volume (change)="totalPrice = volume.value * unitPrice.value">
                <span class="p-2 d-block">Unit</span>
                <nb-select [placeholder]="modelData.Unit || 'Unit'" class="w-100" size="small" name="unit" #unit [ngModel]="modelData?.Unit">
                    <nb-option *ngFor="let value of unitType[0]; let id=index;" [value]="value">{{value}}</nb-option>
                </nb-select>
                <span class="p-2 d-block">Unit Price</span>
                <input type="number" nbInput fullWidth placeholder="Unit Price Add On" fieldSize="small" required name="unitPrice" #unitPrice [ngModel]="modelData?.['Total Price Add On']" (change)="totalPrice = volume.value * unitPrice.value">
                <span class="p-2 d-block">Total Price Budget</span>
                <input type="text" nbInput fullWidth placeholder="Total Price Add On" readonly fieldSize="small" required [(ngModel)]="totalPrice" #totalPriceAddOn name="totalPriceAddOn">
            </div>
            <div class="col-4">
                <span class="p-2 d-block">Progress</span>
                <input type="number" nbInput fullWidth placeholder="Progress" fieldSize="small" required #progress name="progress" [ngModel]="modelData?.progress">
                <span class="p-2 d-block">Responsible</span>
                <nb-select [placeholder]=" modelData?.responsible?.name || 'Responsible'" class="w-100" size="small" name="responsible" #resp [ngModel]="modelData?.responsible">
                    <nb-option *ngFor="let value of responsible; let id=index;" [value]="responsible[id]">{{value.name}}</nb-option>
                </nb-select>
                <span class="p-2 d-block">Category</span>
                <nb-select [placeholder]="modelData?.category || 'Category'" class="w-100" size="small" name="category" #categoryField [ngModel]="modelData?.category">
                    <nb-option *ngFor="let value of category; let id=index;" [value]="category[id]">{{value}}</nb-option>
                </nb-select>
                <span class="p-2 d-block">Rank</span>
                <nb-select [placeholder]="modelData?.rank || 'Rank'" class="w-100" size="small" name="rank" #prior [ngModel]="modelData?.rank">
                    <nb-option *ngFor="let value of rank; let id=index;" [value]="rank[id]">{{value}}</nb-option>
                </nb-select>
            </div>
        </div>
        <span class="d-block my-1">Comments</span>
        <textarea rows="3" nbInput fullWidth name="variantComment" #remarks [ngModel]="modelData?.variantComment"></textarea>
        <button type="submit" nbButton status="success" class="m-2" fullWidth>Submit</button>
    </form>
    </nb-card-body>
</nb-card>

