<nb-card >
    <nb-card-header>
    <h5 style="color:burlywood;">{{shipName}}</h5>
    <div class="d-flex">
        <div class="my-3" *ngFor = "let button of menuButton">
            <button *ngIf = "button.position === 'top'" nbButton status="primary" class="mx-1" outline size="small">
                <nb-icon icon="{{button.icon}}" pack="eva"></nb-icon>
                {{button.text}}
            </button>
        </div>
    </div>
    </nb-card-header>

    <nb-card-body>
        <h6 style="color: burlywood;">Summary</h6>
        <div class="row">
            <div class="col-lg-5 col-md-12 col-sm-12">
                <ngx-sub-project-data></ngx-sub-project-data>
            </div>
            <div class="col-lg-7 col-md-12 col-sm-12">
                <ngx-sub-price-data></ngx-sub-price-data>
            </div>
        </div>
    </nb-card-body>
</nb-card>

<nb-card>
    <div class="d-flex" >
        <div *ngFor = "let button of menuButton" class="mx-1 my-3">
            <button *ngIf = "button.position === 'bottom'" (click)="btnAct(button.text)" nbButton status="primary" class="mx-1" outline size="small">
                {{button.text}}
            </button>
        </div>
    </div>

    <h6 class="mx-3" style="color: burlywood;">Work Area</h6>

    <div style="overflow: auto; width: 100%;">
        <div style="width: 1424px;">
            <table [nbTreeGrid]="dataSource" [nbSort]="dataSource" style="table-layout: auto;">
                <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
                <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>
            
                <ng-container [nbTreeGridColumnDef]="customColumn">
                  <th nbTreeGridHeaderCell  *nbTreeGridHeaderCellDef>{{customColumn}}</th>
                  <td nbTreeGridCell *nbTreeGridCellDef="let row">
                    <ngx-fs-icon [kind]="row.data.kind" [expanded]="row.expanded"></ngx-fs-icon>
                    {{row.data[customColumn]}}
                  </td>
                </ng-container>
                
                <ng-container [nbTreeGridColumnDef]="addJobColumn" width="400">
                    <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(addJobColumn)" *nbTreeGridHeaderCellDef></th>
                    <td nbTreeGridCell *nbTreeGridCellDef="let row; let id = index" class="text-center">
                    <button nbButton size="small" outline status="primary" (click)="subJobDial(row, id)">
                        Add Sub Job
                    </button>
                    </td>
                </ng-container>

                <ng-container [nbTreeGridColumnDef]="editColumn">
                    <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(editColumn)" *nbTreeGridHeaderCellDef></th>
                    <td nbTreeGridCell *nbTreeGridCellDef="let row" class="text-center">
                    <button class="btn btn-light btn-sm text-center" ghost>
                        <nb-icon icon="edit-outline" status="primary"></nb-icon>
                    </button>
                    </td>
                </ng-container>
            
                <ng-container *ngFor="let column of defaultColumns; let index = index" [nbTreeGridColumnDef]="column" [showOn]="getShowOn(index)">
                    <div *ngIf="!addSubJob">
                        <th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef>{{column}}</th>
                        <td nbTreeGridCell *nbTreeGridCellDef="let row">{{row.data[column] || '-'}}</td>
                    </div>
                    <!-- <div *ngIf="!addSubJob">
                        <th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef>{{column}}</th>
                        <td nbTreeGridCell *nbTreeGridCellDef="let row">
                            <input type="text" nbInput fieldSize="small">
                        </td>
                    </div> -->
                </ng-container>

            </table>
        </div>
    </div>
</nb-card>
