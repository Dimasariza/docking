<nb-card>
    <nb-card-body>
        <h5>Tasks | Mine</h5>
        <button nbButton class="mx-1" ghost shape="rectangle">
          <nb-icon icon="menu-outline" pack="eva"></nb-icon>
            Projects
        </button>
        <input nbInput id="search" class="search-input mx-3" placeholder="Search">
        <nb-select selected="1" class="mx-3">
          <nb-option value="1">Status</nb-option>
          <nb-option value="2">On Progress</nb-option>
        </nb-select>
        <nb-select selected="1" class="mx-3">
          <nb-option value="1">Responsible</nb-option>
          <nb-option value="2">SS</nb-option>
        </nb-select>
         
        <table [nbTreeGrid]="dataSource" [nbSort]="dataSource" (sort)="updateSort($event)">
  
          <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
          <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>
      
          <ng-container [nbTreeGridColumnDef]="customColumn">
              <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(customColumn)" *nbTreeGridHeaderCellDef>
              {{customColumn}}
              </th>
              <td nbTreeGridCell *nbTreeGridCellDef="let row">
              <ngx-fs-icon [kind]="row.data.kind" [expanded]="row.expanded"></ngx-fs-icon>
              {{row.data[customColumn]}}
              </td>
          </ng-container>
      
          <ng-container *ngFor="let column of defaultColumns; let index = index"
                          [nbTreeGridColumnDef]="column"
                          [showOn]="getShowOn(index)">
              <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(column)" *nbTreeGridHeaderCellDef>
              {{column}}
              </th>
              <td nbTreeGridCell *nbTreeGridCellDef="let row">{{row.data[column] || '-'}}</td>
          </ng-container>
      </table>
    </nb-card-body>
  </nb-card>


<nb-card>
    <nb-card-body>
        <h5>Project List</h5>
        <nb-card-header>
            Current Project
        </nb-card-header>
      <ngx-datatable 
          [class]="'bootstrap'" 
          [rows]="shipData" 
          [count]="shipData.length"
          [scrollbarH]="true"
          [columnMode]="'force'"
          class="row"
          [rowHeight]="'auto'"
          default>
          <ngx-datatable-column [name]="'Vessel'" prop="vessel">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <a routerLink="/pages/project-batera/sub-menu-project" [data] = 'row' class="text-decoration-none">{{row.vessel}}</a>
           </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column [name]="'Shortcut'" prop="">
            <ng-template let-row="row" ngx-datatable-cell-template>

              <nb-icon *ngFor="let stat of row.shortcuts" [ngStyle]="{'color': 'grey'}" [icon]="stat"></nb-icon>
            </ng-template>  
          </ngx-datatable-column>

          <ngx-datatable-column [name]="'Customer'" prop="customer"></ngx-datatable-column>

          <ngx-datatable-column [name]="'R'" width="1">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <nb-icon [stat]="row.R" [ngStyle]="{'color': stat ? 'green' : 'red'}" [icon]="stat ? 'checkmark-square-2-outline' : 'close-square-outline'">
                </nb-icon>
              </ng-template>  
          </ngx-datatable-column>

          <ngx-datatable-column [name]="'P'" width="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <nb-icon [stat]="row.P" [ngStyle]="{'color': stat ? 'green' : 'red'}" [icon]="stat ? 'checkmark-square-2-outline' : 'close-square-outline'">
              </nb-icon>
            </ng-template>  
          </ngx-datatable-column>

          <ngx-datatable-column [name]="'E'" >
            <ng-template let-row="row" ngx-datatable-cell-template>
              <nb-icon [stat]="row.E" [ngStyle]="{'color': stat ? 'green' : 'red'}" [icon]="stat ? 'checkmark-square-2-outline' : 'close-square-outline'">
              </nb-icon>
            </ng-template>  
          </ngx-datatable-column>

          <ngx-datatable-column [name]="'Start'" prop="start"></ngx-datatable-column>
      </ngx-datatable>
    </nb-card-body>
  </nb-card>
