<nb-card >
  <nb-card-header class="d-flex justify-content-between">
    <h5 style="color:burlywood;">{{data.dial}} Project</h5>
    <button nbButton status="danger" size="small" (click)="close()">
      <nb-icon icon="close-square-outline"></nb-icon>
    </button>
  </nb-card-header>
  <nb-card-body>
    <form class="row" #newProjectForm="ngForm" (ngSubmit)="submitProject(newProjectForm)">
      <div class="left_side col-6">
        <label for="Vessel Name" class="d-block text-muted">Vessel</label>
        <nb-select class="w-100" [placeholder]=" projectData.kapal?.nama_kapal || 'Vessel Name'" size="small" [ngModel]="projectData.kapal?.nama_kapal" #vessel name="id_kapal" [disabled]="disabledData">
          <nb-option [value]="newProjectMenu.vessel[id].id_kapal"  *ngFor="let vessel of newProjectMenu.vessel; let id=index;">{{vessel.nama_kapal}}</nb-option>
        </nb-select>
        <label for="Year Project" class="d-block text-muted">Year Project</label>
        <input type="number" nbInput class="w-100" placeholder="Year Of Project" fieldSize="small" name="tahun" required #yearProject [ngModel]="projectData?.tahun" [disabled]="disabledData">
        <label for="Ship Management" class="text-muted d-block">Ship Management</label> 
        <input type="text" class="w-100" readonly [placeholder]="newProjectMenu.shipManagement || 'Complete the company profile first'" nbInput fieldSize="small">
        <label for="Responsible" class="d-block text-muted">Responsible</label> 
        <nb-select class="w-100" placeholder="Responsible" size="small" #responsible [ngModel]="data.project?.id_user" name="id_user">
          <nb-option [value]="newProjectMenu.responsible[id].id_user" *ngFor="let status of newProjectMenu.responsible; let id=index;">{{status.nama_lengkap}}</nb-option>
        </nb-select>
        <label for="Phase" class="d-block text-muted">Phase</label>
        <nb-select class="w-100" placeholder="Phase" size="small" #phase [ngModel]="projectData?.phase" name="phase">
          <nb-option [value]="newProjectMenu.Phase[id]" *ngFor="let status of newProjectMenu.phase; let id=index;">{{status}}</nb-option>
        </nb-select>
        <label *ngIf="data.dial === 'Update'" for="Selected Yard" class="w-100 text-muted">Selected Yard</label>
        <nb-select *ngIf="data.dial === 'Update'" size="small" class="w-100" name="selected_yard" #selectedYard (ngModel)="selectedYard" placeholder="No Data To Display" 
        [readonly]="phase.value === 'requisition' ? false : true">
          <nb-option [value]="newProjectMenu.BaseCurrency[id]" *ngFor="let status of newProjectMenu.BaseCurrency; let id=index;">{{status}}</nb-option>
        </nb-select>
        <label for="Base Currency" class="text-muted d-block" fieldSize="small">Base Currency</label>
        <nb-select class="w-100" placeholder="Base Currency" size="small"  #currency [ngModel]="projectData?.mata_uang" name="mata_uang">
          <nb-option [value]="newProjectMenu.BaseCurrency[id]" *ngFor="let status of newProjectMenu.BaseCurrency; let id=index;">{{status}}</nb-option>
        </nb-select>
      </div>

      <div class="right_site col-6">
        <label for="Deviation" class="d-block text-muted">- Deviation</label>
        <input type="number" class="w-100" nbInput fieldSize="small" placeholder="Deviation" name="off_hire_deviasi" #deviation [ngModel]="projectData?.off_hire_deviasi">
        <label for="Charter Rate" class="d-block text-muted" >- Charter Rate</label>
        <input type="text" class="w-100" nbInput fieldSize="small" placeholder="Chareter Rate" name="off_hire_rate_per_day" #charterRate [ngModel]="projectData?.off_hire_rate_per_day">
        <label for="Bunker" class="d-block text-muted" >- Bunker</label>
        <input type="text" class="w-100" nbInput fieldSize="small" placeholder="Bunker Rate" name="off_hire_bunker_per_day" #bunker [ngModel]=" projectData?.off_hire_bunker_per_day">
        <label for="Off Hire Period" class="d-block text-muted">Off Hire Period</label>
        <nb-rangepicker #offHirePeriodDate ></nb-rangepicker>  
        <input fieldSize="small" class="w-100" type="text" nbInput shape="rectangle" placeholder="Pick Date" [nbDatepicker]="offHirePeriodDate" name="offHirePeriod" #offHirePeriod (ngModel)="offHirePeriod">
        <label for="Repair Period" class="d-block text-muted">Repair Period</label>
        <nb-rangepicker #repairPeriodDate ></nb-rangepicker>  
        <input fieldSize="small" class="w-100" type="text" nbInput shape="rectangle" placeholder="Pick Date" [nbDatepicker]="repairPeriodDate" name="repairPeriod" #repairPeriod (ngModel)="repairPeriod">
        <label for="In Dock" class="d-block text-muted">- In Dock</label> 
        <nb-rangepicker #inDockDate></nb-rangepicker>
        <input fieldSize="small" class="w-100" type="text" nbInput shape="rectangle" placeholder="Pick Date" [nbDatepicker]="inDockDate" name="repairInDock" #repairInDock (ngModel)="repairInDock">
        <label for="Additional Day" class="d-block text-muted" >- Additional Day</label>
        <input type="number" class="w-100" nbInput fieldSize="small" placeholder="Additional Day" name="repair_additional_day" #additionalDay [ngModel]="projectData?.repair_additional_day" >
      </div>
      <button nbButton class="m-3 w-100" status="success" type="submit" [disabled]="!newProjectMenu.shipManagement">Add Project</button>
    </form>
  </nb-card-body>
</nb-card> 