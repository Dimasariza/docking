<nb-layout windowMode>
  <nb-sidebar class="menu-sidebar" tag="menu-sidebar" responsive>
    <nb-sidebar-header class="mb-5 pt-0">
      <img src="/assets/images/Logo BKD.png" alt="Logo" width="200">
      <h6 class="text-center">APLIKASI KEDIKLATAN</h6>
    </nb-sidebar-header>
      <form action="">
      <div class="form-control-group">
          <input class="mb-2" nbInput
              fullWidth
              [(ngModel)]="user.email"
              #email="ngModel"
              name="email"
              id="input-email"
              pattern=".+@.+\..+"
              placeholder="NIP"
              fieldSize="large"
              autofocus
              [status]="email.dirty ? (email.invalid  ? 'danger' : 'success') : 'basic'"
              [required]="getConfigValue('forms.validation.email.required')"
              [attr.aria-invalid]="email.invalid && email.touched ? true : null">
          <ng-container *ngIf="email.invalid && email.touched">
          <p class="caption status-danger" *ngIf="email.errors?.required">
              Email is required!
          </p>
          <p class="caption status-danger" *ngIf="email.errors?.pattern">
              Email should be the real one!
          </p>
          </ng-container>
      </div>

      <div class="form-control-group">
          <span class="label-with-link">
          <a class="forgot-password caption-2" routerLink="../request-password">Forgot Password?</a>
          </span>
          <input class="mb-2" nbInput
              fullWidth
              [(ngModel)]="user.password"
              #password="ngModel"
              name="password"
              type="password"
              id="input-password"
              placeholder="Password"
              fieldSize="large"
              [status]="password.dirty ? (password.invalid  ? 'danger' : 'success') : 'basic'"
              [required]="getConfigValue('forms.validation.password.required')"
              [minlength]="getConfigValue('forms.validation.password.minLength')"
              [maxlength]="getConfigValue('forms.validation.password.maxLength')"
              [attr.aria-invalid]="password.invalid && password.touched ? true : null">
          <ng-container *ngIf="password.invalid && password.touched ">
          <p class="caption status-danger" *ngIf="password.errors?.required">
              Password is required!
          </p>
          <p class="caption status-danger" *ngIf="password.errors?.minlength || password.errors?.maxlength">
              Password should contain
              from {{ getConfigValue('forms.validation.password.minLength') }}
              to {{ getConfigValue('forms.validation.password.maxLength') }}
              characters
          </p>
          </ng-container>
      </div>

      <div class="form-control-group accept-group mb-5">
          <nb-checkbox name="rememberMe" [(ngModel)]="user.rememberMe" *ngIf="rememberMe">Remember me</nb-checkbox>
      </div>

      <button nbButton
              routerLink="/pages/home"
              fullWidth
              status="primary"
              size="large"
              [class.btn-pulse]="submitted">
          Log In
      </button>
      </form>
  </nb-sidebar>

  <nb-layout-column class="pt-3">
      <h3>JADWAL KEDIKLATAN</h3>
      <nb-card>
        <nb-card-body>

          <div class="search d-flex align-items-center justify-content-end">
            <label class="search-label" for="search">Search:</label>
            <input nbInput [nbFilterInput]="dataSource" id="search" class="search-input">
          </div>

          <table [nbTreeGrid]="dataSource" [nbSort]="dataSource" (sort)="updateSort($event)">
      
            <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
            <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>
      
            <ng-container [nbTreeGridColumnDef]="customColumn">
              <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(customColumn)" *nbTreeGridHeaderCellDef>
                {{customColumn}}
              </th>
              <td nbTreeGridCell *nbTreeGridCellDef="let row">
                <ngx-fs-icon [kind]="row.data.kind" [expanded]="row.expanded"></ngx-fs-icon>
                {{row.data[customColumn]}}
              </td>
            </ng-container>
      
            <ng-container *ngFor="let column of defaultColumns; let index = index"
                          [nbTreeGridColumnDef]="column"
                          [showOn]="getShowOn(index)">
              <th nbTreeGridHeaderCell [nbSortHeader]="getSortDirection(column)" *nbTreeGridHeaderCellDef>
                {{column}}
              </th>
              <td nbTreeGridCell *nbTreeGridCellDef="let row">{{row.data[column] || '-'}}</td>
            </ng-container>
      
          </table>
      
        </nb-card-body>
      </nb-card>
  <ng-content select="router-outlet"></ng-content>
  </nb-layout-column>
</nb-layout>